---
description: >
  The credentials data source is used to load credentials contained within a
  password protected Keepass 2 file.
page_title: Credentials - Data Sources
nav_title: Credentials
---

# Credentials

Type: `keepass-credentials`

The credentials data source is used to load credentials contained within a
password protected Keepass 2 file.

### Required

- `keepass_file` (string) - Path to the keepass 2 database.
- `keepass_password` (string) - Master password for the keepass 2 database.

### OutPut

- `map` (map[string]string) - A map of credentials. 

The following map keys are constructed for each entry within the keepass
database:

* `[index]-username`
* `[index]-password`
* `[title]-username`
* `[title]-password`

`index` is a 1-indexed count of the credential entry within the keepass
database starting from the root.

`title` is the title of the credential entry regardless of its location
within the database for convenience. Note that this can lead to overwriting if
multiple credential entries share the same entry title; use the index instead.

A newly created Keepass 2 database with sample entries will thus generate the
following keys and values:

```
1-username: User Name
1-password: Password
Sample Entry-username: User Name
Sample Entry-password: Password
2-username: Michael321
2-password: 12345
Sample Entry #2-username: Michael321
Sample Entry #2-password: 12345
```

### Example Usage

#### Hardcoded password

```hcl
data "keepass-credentials" "example" {
  keepass_file = "example/example.kdbx"
  keepass_password = "password"
}

source "file" "example" {
  content = format("%s:%s", data.keepass-credentials.example.map["2-username"], data.keepass-credentials.example.map["2-password"])
  target = "credentials.txt"
}

build {
  sources = ["sources.file.example"]
}
```

#### With variables

```hcl
variable "keepass_password" {
  type = string
}

data "keepass-credentials" "example" {
  keepass_file = "example/example.kdbx"
  keepass_password = var.keepass_password
}

source "file" "example" {
  content = format("%s:%s", data.keepass-credentials.example.map["2-username"], data.keepass-credentials.example.map["2-password"])
  target = "credentials.txt"
}

build {
  sources = ["sources.file.example"]
}
```
